class ShoppingService {
  final List<String> _availableCategories = [
    'Овощи и фрукты',
    'Молочные продукты',
    'Мясо и рыба',
    'Бакалея',
    'Напитки',
    'Хлеб и выпечка',
    'Сладости',
    'Бытовая химия',
    'Другое'
  ];

  List<String> get availableCategories => _availableCategories;

  String detectCategory(String productName) {
    final name = productName.toLowerCase();

    final categoryKeywords = {
      'Овощи и фрукты': ['яблоко', 'банан', 'помидор', 'огурец', 'картофель', 'морковь', 'лук', 'апельсин'],
      'Молочные продукты': ['молоко', 'сыр', 'йогурт', 'творог', 'кефир', 'сметана', 'масло'],
      'Мясо и рыба': ['курица', 'говядина', 'свинина', 'рыба', 'колбаса', 'сосиски', 'фарш'],
      'Бакалея': ['макароны', 'рис', 'мука', 'сахар', 'соль', 'крупа', 'гречка', 'овсянка'],
      'Напитки': ['вода', 'сок', 'чай', 'кофе', 'лимонад', 'газировка'],
      'Хлеб и выпечка': ['хлеб', 'булка', 'батон', 'печенье', 'бублик'],
      'Сладости': ['шоколад', 'конфеты', 'печенье', 'торт', 'пирожное'],
      'Бытовая химия': ['мыло', 'шампунь', 'порошок', 'гель'],
    };

    for (final category in categoryKeywords.keys) {
      if (categoryKeywords[category]!.any((keyword) => name.contains(keyword))) {
        return category;
      }
    }

    return 'Другое';
  }
}